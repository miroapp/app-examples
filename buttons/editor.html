<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="text/javascript" src="https://miro.com/app/static/sdk.1.1.js"></script>
    <script type="text/javascript">
      const icon =
        '<circle cx="12" cy="12" r="9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"></circle>'

      miro.onReady(() => {
        miro.initialize({
          extensionPoints: {
            bottomBar: async () => {
              const currentUser = await miro.getCurrentUser()
              const canEdit = currentUser.currentBoardPermissions.includes('EDIT_CONTENT')
              if (canEdit) {
                return {
                  title: 'can edit example',
                  svgIcon: icon,
                  onClick: sayHi,
                }
              }
            },
          },
        })
      })

      function sayHi() {
        alert('Hi!')
      }
    </script>
  </head>
</html>
